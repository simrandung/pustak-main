

<app-user-navbar></app-user-navbar>


<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 bg-gradient-to-br from-blue-100 to-purple-200">
  <div *ngFor="let book of filteredBooks; let i = index" class="[perspective:1000px] w-full h-[400px]">
    <div class="relative w-full h-full transition-transform duration-700 [transform-style:preserve-3d]"
      [ngClass]="{ '[transform:rotateY(180deg)]': flippedCards[i] }">

      <div
        class="absolute w-full h-full bg-white rounded-lg shadow-md border [backface-visibility:hidden] flex flex-col">
        <div class="h-1/2 w-full">
          <img [src]="book.cover_image" alt="book image" class="w-full h-full object-cover rounded-t-lg" />
        </div>
        <div class="h-1/2 p-4 flex flex-col justify-center items-center text-center">
          <h2 class="text-xl font-bold text-blue-800">{{ book.title }}</h2>
          <p class="text-gray-700 text-lg">₹{{ book.price }}</p>
          <div *ngIf="!book.in_stock" class="mt-2">
            <span class="bg-gray-400 text-white text-xs px-3 py-1 rounded-full">Out of Stock</span>
          </div>
          <div class="flex gap-2 mt-4">
            <button *ngIf="book.in_stock" (click)="addToCart(book)"
              class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded">
              Add to Cart
            </button>
            <button (click)="addToWishlist(book)" class="bg-pink-600 hover:bg-pink-700 text-white px-3 py-1 rounded">
              Wishlist ❤️
            </button>
            <button (click)="toggleFlip(i)" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded">
              View Summary
            </button>

          </div>
        </div>
      </div>

      <div
        class="absolute w-full h-full bg-blue-50 rounded-lg shadow-md p-4 [transform:rotateY(180deg)] [backface-visibility:hidden] flex flex-col justify-center items-center text-center">
        <h3 class="text-xl font-semibold text-blue-700 mb-2">Summary</h3>
        <p class="text-gray-700 text-sm">More details about "{{ book.title }}" will be available soon.</p>
        <button (click)="toggleFlip(i)" class="text-blue-600 underline text-sm mt-4">Back</button>
      </div>

    </div>
  </div>
</div>